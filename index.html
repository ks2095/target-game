<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1280, user-scalable=no">
    <title>Target Game</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;700&family=Noto+Sans+KR:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <button id="fullscreen-btn" class="fullscreen-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2-2h3">
            </path>
        </svg>
    </button>
    <div id="game-wrapper">
        <div id="ui-layer">
            <header>
                <div class="header-left">
                    <h1 class="glow-text">TARGET GAME</h1>
                </div>
                <div id="instruction">Click and hold for 2 seconds.</div>
                <div id="count-display" class="hidden"></div>

                <div id="setup-panel" class="glass-panel">
                    <div class="setup-header">
                        <!-- Row 1: Content Toggle + Player Count -->
                        <div class="setup-row">
                            <div class="input-group">
                                <label>TARGET CONTENT:</label>
                                <div class="toggle-container">
                                    <span class="toggle-label active" data-mode="player">PLAYERS</span>
                                    <label class="switch">
                                        <input type="checkbox" id="mode-toggle">
                                        <span class="slider round"></span>
                                    </label>
                                    <span class="toggle-label" data-mode="bet">BET/PRIZE</span>
                                </div>
                            </div>
                            <div id="bet-count-group" class="input-group hidden">
                                <label>BET / PRIZE:</label>
                                <input type="number" id="bet-count" min="2" max="10" value="2">
                            </div>
                            <div class="input-group">
                                <label id="player-count-label">PLAYERS:</label>
                                <input type="number" id="player-count" min="2" max="10" value="2">
                            </div>
                        </div>

                        <!-- Row 2: Speed Sliders + Distribution -->
                        <div class="setup-row">
                            <div class="input-group">
                                <label>DISTRIBUTION:</label>
                                <div class="toggle-container">
                                    <span class="toggle-label active" data-dist="equal">BASIC</span>
                                    <label class="switch">
                                        <input type="checkbox" id="dist-toggle">
                                        <span class="slider round"></span>
                                    </label>
                                    <span class="toggle-label" data-dist="diff">FUN</span>
                                </div>
                            </div>
                            <div class="input-group">
                                <label>TARGET SPEED:</label>
                                <input type="range" id="rotation-speed" min="1" max="20" value="8">
                            </div>
                            <div class="input-group" id="diff-arrow-group" style="display: none;">
                                <label>FUN ARROW SPEED (1-6%):</label>
                                <input type="range" id="diff-arrow-speed" min="1" max="6" step="0.1" value="3" disabled>
                            </div>
                            <div class="input-group">
                                <label>ARROW SPEED:</label>
                                <input type="range" id="arrow-speed-multiplier" min="0.05" max="1.5" step="0.01"
                                    value="1.0">
                            </div>
                        </div>
                    </div>
                    <div id="name-inputs" class="name-list">
                        <!-- Name inputs will be added here via JS -->
                    </div>
                    <div id="bet-player-inputs" class="name-list hidden">
                        <!-- Player name inputs for BET mode will be added here -->
                    </div>
                </div>
            </header>
        </div>

        <div id="fire-control-area">
            <div id="fire-btn">
                <span class="fire-text">PULL</span>
                <span class="fire-arrow">⮕</span>
            </div>
            <p class="fire-hint">Hold to Charge</p>
        </div>

        <canvas id="gameCanvas"></canvas>

        <div id="result-overlay" class="hidden">
            <div class="result-backdrop"></div>
            <div class="result-card">
                <div class="win-label">RESULT</div>
                <h2 id="result-status">NAME</h2>
                <h3 id="result-shooter" class="hidden">SHOOTER</h3>

                <button id="retry-btn">RETRY</button>
            </div>
        </div>
        <div id="option-selection-modal" class="hidden">
            <div class="option-backdrop"></div>
            <div class="option-content">
                <h2 class="option-title">SELECT OPTION</h2>
                <div class="option-grid">
                    <div class="option-card" data-option="1">
                        <div class="option-icon">1</div>
                        <div class="option-label">Expand Target Area by 150%</div>
                    </div>
                    <div class="option-card" data-option="2">
                        <div class="option-icon">2</div>
                        <div class="option-label">Shrink Target Area by 50%</div>
                    </div>
                    <div class="option-card" data-option="3">
                        <div class="option-icon">3</div>
                        <div class="option-label">Adjust Target Rotation Speed</div>
                    </div>
                    <div class="option-card" data-option="4">
                        <div class="option-icon">4</div>
                        <div class="option-label">Adjust Arrow Speed</div>
                    </div>
                </div>
                <button id="option-close-btn">CANCEL</button>
            </div>
        </div>
    </div>

    <!-- Custom Alert Modal -->
    <div id="custom-alert" class="hidden">
        <div class="alert-backdrop"></div>
        <div class="alert-card">
            <div class="alert-header">MESSAGE</div>
            <div id="alert-message"></div>
            <div class="alert-buttons">
                <button id="alert-cancel-btn" class="hidden">CANCEL</button>
                <button id="alert-ok-btn">OK</button>
            </div>
        </div>
    </div>

    <!-- Audio assets are in the same folder -->
    <audio id="sound-tension" src="긴장되는 음악.MP3" loop></audio>
    <audio id="sound-award" src="어워드 음악.MP3"></audio>
    <audio id="sound-pull" src="활시위.MP3"></audio>
    <audio id="sound-shoot" src="명중소리.MP3"></audio>
    <audio id="sound-hit" src="닭명중.MP3"></audio>
    <audio id="sound-flight" src="닭숨넘어가는소리.MP3" loop></audio>
    <audio id="sound-fall" src="추락.MP3"></audio>
    <audio id="sound-shuffle" src="순서정하기.MP3"></audio>

    <script src="script.js"></script>
</body>

</html>